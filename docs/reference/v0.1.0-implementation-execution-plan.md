---
title: v0.1.0 Implementation Execution Plan
label: kroki-rs.developer-guide.v010-implementation-execution-plan
---

# v0.1.0 Implementation Execution Plan

## Goal

Provide executable, phase-gated implementation details for:

- `devflow` platform delivery as a reusable CLI.
- `kroki-rs-nxt` bootstrap and migration using `devflow`.

## Repo Launch Sequence

1. Create `devflow` repository.
2. Create `kroki-rs-nxt` repository.
3. Keep `kroki-rs` in maintenance mode for bug fixes and critical releases only.

## Workstream A: `devflow` (Platform)

### A0 Governance and Scope

Deliverables:

- `devflow` charter (problem statement, non-goals, extension model).
- Versioning policy (SemVer + compatibility guarantees for extension API).
- Contribution and release policy.

Acceptance criteria:

- Governance docs merged.
- First ADRs approved.

### A1 Core Engine MVP

Deliverables:

- `devflow-core` DAG/task runtime.
- Canonical commands: `setup`, `fmt`, `fmt-check`, `lint`, `build`, `test`, `smoke`, `verify`, `ci render`.
- Deterministic cache contract and container identity resolution.

Acceptance criteria:

- `dwf verify` executes locally in containerized mode.
- Workflow rendering for GitHub Actions works for at least one Rust reference app.

### A2 Extension System

Deliverables:

- `devflow-ext-rust` (first-class).
- `devflow-ext-node` (baseline).
- Extension interface docs and compatibility tests.

Acceptance criteria:

- Same canonical commands resolve correctly for both Rust and Node reference projects.

### A3 Distribution

Deliverables:

- Homebrew formula automation.
- Binary signing and release pipeline.
- Example projects (`rust`, `node-ts`, `react`, `tauri`, `vscode`).

Acceptance criteria:

- `brew install` path validated.
- Public docs show canonical command mapping by stack.

## Workstream B: `kroki-rs-nxt` (Product)

### B0 Bootstrap Workspace

Deliverables:

- Cargo workspace with initial crates:
  - `kroki-core`
  - `kroki-contracts`
  - `kroki-plugin-api`
  - `kroki-plugin-runtime`
  - `kroki-adapter-http`
  - `kroki-adapter-cli`
  - `kroki-observability`
- `apps/kroki-server` and `apps/kroki-cli`.
- `devflow.toml` baseline config.

Acceptance criteria:

- Workspace compiles.
- Basic smoke tests pass.

### B1 Contract-First Vertical Slice

Deliverables:

- One end-to-end diagram flow through contracts -> core -> adapter.
- Contract tests and schema artifact generation.
- Error envelope standardization.

Acceptance criteria:

- Golden tests pass for selected providers.
- External interface compatibility checks are automated.

### B2 Provider Migration Slices

Deliverables:

- Priority provider batches migrated with conformance tests.
- Plugin/runtime capability policy implemented.

Acceptance criteria:

- Migration dashboard shows parity status by provider.
- No regression in baseline latency/error budget.

### B3 Hardening and Release Readiness

Deliverables:

- CI quality gates via `devflow`.
- Performance tuning and cache observability.
- Release packaging and migration docs.

Acceptance criteria:

- Release candidate checklist passes.
- v0.1.0 release approved.

## Dependency Between Workstreams

- `kroki-rs-nxt` B0 can begin with a pinned `devflow` preview build.
- B1+ should use stable `devflow` command contracts.
- Any `devflow` breaking change requires explicit compatibility notice and migration plan.

## Engineering Governance

Required quality gates per PR:

- `fmt-check`
- `lint`
- `build`
- `test`
- `smoke`

Required architecture gates per milestone:

- Contract conformance.
- Plugin capability policy validation.
- CI/local parity audit.

## Risks and Controls

- Risk: parallel track drift.
  - Control: weekly architecture sync with explicit decision log.
- Risk: tool lock-in before platform maturity.
  - Control: keep `dflow`-style compatibility shim until `devflow` stabilizes.
- Risk: over-engineering early layers.
  - Control: migrate by vertical slices, not by abstract scaffolding alone.

## Suggested Milestone Timeline (Indicative)

- M1 (2-3 weeks): A0/A1 and B0 complete.
- M2 (2-4 weeks): A2 and B1 complete.
- M3 (4-6 weeks): B2 provider migration batches.
- M4 (2-3 weeks): A3 + B3 hardening and release prep.

## Definition of Done for v0.1.0

- `devflow` is publicly installable and used by `kroki-rs-nxt` CI/local workflows.
- `kroki-rs-nxt` delivers agreed parity scope with contract and conformance tests.
- Migration and contributor docs are complete and reviewed.
