{"version":3,"kind":"Article","sha256":"d24978e3737d7e483afb915a681ec897eb9ab9efba7f1bdc2c86ab150801d9e8","slug":"ci-workflows","location":"/user-guide/ci-workflows.md","dependencies":[],"frontmatter":{"title":"CI Workflows","label":"devflow.user-guide.ci-workflows","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Soft Mentor","given":"Soft","family":"Mentor"},"name":"Soft Mentor","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/softmentor/devflow","abbreviations":{"ADR":"Architecture Decision Record.","API":"Application Programming Interface.","CI":"Continuous Integration.","CLI":"Command Line Interface.","DAG":"Directed Acyclic Graph.","GHCR":"GitHub Container Registry.","PR":"Pull Request."},"numbering":{"title":{"offset":1}},"source_url":"https://github.com/softmentor/devflow/blob/main/docs/user-guide/ci-workflows.md","edit_url":"https://github.com/softmentor/devflow/edit/main/docs/user-guide/ci-workflows.md","exports":[{"format":"md","filename":"ci-workflows.md","url":"/devflow/build/ci-workflows-18be0bb1c7ae1ff1e14090f1c365f6fe.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Goal","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZyZbb91ICn"}],"identifier":"goal","label":"Goal","html_id":"goal","implicit":true,"key":"MlkKFfdIjk"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Keep ","key":"YMUjgPIstC"},{"type":"abbreviation","title":"Continuous Integration.","children":[{"type":"text","value":"CI","key":"Im4rW4lYij"}],"key":"PFhpyvhLk4"},{"type":"text","value":" workflow files synchronized with ","key":"JUdRsRpbQZ"},{"type":"inlineCode","value":"devflow.toml","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"zhP75o0rVc"},{"type":"text","value":" policy and command contracts.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"qTQrIU7uh2"}],"key":"nUzCQkzcAJ"},{"type":"heading","depth":2,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"inlineCode","value":"ci:generate","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"lOU5vxvOU1"}],"identifier":"ci-generate","label":"ci:generate","html_id":"ci-generate","implicit":true,"key":"eeSTUbRbEd"},{"type":"code","lang":"bash","value":"dwf ci:generate","position":{"start":{"line":14,"column":1},"end":{"line":16,"column":1}},"key":"UQsU6oXM8m"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"What it does:","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"dumpGPIDBp"}],"key":"ieSQoU7lU8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"generates workflow YAML based on current config (","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"TuRcYyjztA"},{"type":"inlineCode","value":"targets.pr","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"ABK1DMuv1D"},{"type":"text","value":")","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"yRrOtNiLan"}],"key":"rqeNkc1KXP"}],"key":"uBnh3JwbeC"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"writes to ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Dg3dEyqSPj"},{"type":"inlineCode","value":".github/workflows/ci.yml","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"pDvEyRzlKQ"},{"type":"text","value":" by default","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"PooU6InHW3"}],"key":"FiVqP6v8Ru"}],"key":"Vmp31vD3FO"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"overwrites existing file content with the latest generated contract","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"GMwbnMKK8y"}],"key":"q3nwfZbYyF"}],"key":"cp60KbHz2S"}],"key":"R4fUxpVAZF"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"If you modify config locally and run ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"fRpHuyCwx7"},{"type":"inlineCode","value":"ci:generate","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"KguqBrNV8N"},{"type":"text","value":" again, it re-syncs the workflow file.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"d5x1jsWfdM"}],"key":"bFcah07sQc"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Custom output path:","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"N6vX4CE4sH"}],"key":"rmkVVVwIsl"},{"type":"code","lang":"bash","value":"dwf --ci-output .github/workflows/devflow-ci.yml ci:generate","position":{"start":{"line":28,"column":1},"end":{"line":30,"column":1}},"key":"drzEn560NN"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Preview without writing:","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"L67fW0baq0"}],"key":"UP4OIk2UNS"},{"type":"code","lang":"bash","value":"dwf --stdout ci:generate","position":{"start":{"line":34,"column":1},"end":{"line":36,"column":1}},"key":"vNBsWV2kZA"},{"type":"heading","depth":2,"position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"inlineCode","value":"ci:check","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"NeIG5OAz9n"}],"identifier":"ci-check","label":"ci:check","html_id":"ci-check","implicit":true,"key":"lwni5pv1fe"},{"type":"code","lang":"bash","value":"dwf ci:check","position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"key":"ymyxhwjt6e"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"What it checks:","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"VUMHIKso5x"}],"key":"s5jkoHdONr"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":46,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"required workflow topology (","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"jT8rFj96Uh"},{"type":"inlineCode","value":"prep","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"oYX4NfCurC"},{"type":"text","value":", ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"Wdwgz3eBkt"},{"type":"inlineCode","value":"build","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"b1xXLI4Y3j"},{"type":"text","value":", profile-derived ","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"xwAxmMaNiY"},{"type":"inlineCode","value":"check_*","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"VVMQsDvmkS"},{"type":"text","value":" jobs)","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"CrdAxEtf1M"}],"key":"YO1tq4P5r8"}],"key":"RQG5ljQb59"},{"type":"listItem","spread":true,"position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"command coverage for ","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"SZLPLy6BXV"},{"type":"inlineCode","value":"targets.pr","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"e86QKbDGrl"}],"key":"Wjku3ALaF7"}],"key":"CWqvm5peHa"},{"type":"listItem","spread":true,"position":{"start":{"line":48,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"drift between on-disk workflow and expected generated output","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"QVOiEaqDoP"}],"key":"RrGKMAplUp"}],"key":"KtRs0opkRT"}],"key":"Gg3ozHytl9"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"If drift is detected, run:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"gyARubuspI"}],"key":"xdXbzSm39A"},{"type":"code","lang":"bash","value":"dwf ci:generate","position":{"start":{"line":52,"column":1},"end":{"line":54,"column":1}},"key":"dA5hZyrERM"},{"type":"heading","depth":2,"position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"inlineCode","value":"ci:plan","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"dMp3FgqIbP"}],"identifier":"ci-plan","label":"ci:plan","html_id":"ci-plan","implicit":true,"key":"KfVd1liuKu"},{"type":"code","lang":"bash","value":"dwf ci:plan","position":{"start":{"line":58,"column":1},"end":{"line":60,"column":1}},"key":"ApMRicDFr9"},{"type":"paragraph","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"text","value":"Shows configured target profile names (","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"yAoSHqhKKO"},{"type":"inlineCode","value":"pr","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"OLizMACxSg"},{"type":"text","value":", ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"l2cxFYTBXp"},{"type":"inlineCode","value":"main","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"PIYrKnzYl5"},{"type":"text","value":", ","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"TldlPWoOky"},{"type":"inlineCode","value":"release","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"lCYIkjE97S"},{"type":"text","value":", custom profiles).","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"OW5XxR7yDj"}],"key":"J5zrlMe1Oq"}],"key":"KkN42D7d4o"}],"key":"TcEHmBRfn1"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Using Custom Extensions","url":"/custom-extensions","group":"Devflow"},"next":{"title":"Troubleshooting","url":"/troubleshooting","group":"Devflow"}}},"domain":"http://localhost:3000"}